import { TransactionBlock } from "@mysten/sui.js/transactions";
import { fromHEX } from "@mysten/sui.js/utils";
import { suiClient, signer } from "./sui-elements";
import { bcs } from "@mysten/bcs";

async function zk_prove() {
    // 合约信息
    const pkgId = "0x231475122b962abb2939564f4c0c3793d59434eb00fa519ee642b2e88c1b7670";
    const groth_test = "groth16_test";
    // vk_bytes:vector<u8>,public_inputs_bytes:vector<u8>,proof_points_bytes
    const vk_hex =
        "53a9319e6c45c23e11c542bb5bb385d95ac2a58e23b1247ac770c65733be7aad4f2fdbe66963a1c697557522ee1a954d50905b65231e7ea4dfdc01be74c8bc2ee66a1ab06e8479eb17932bf21552aafbebd145073eb6124f031c1bc616a931851123867ab412cb93a0e1fcde4de7b6c51e6658b91459f98b1b07f61a58d686144e98b3629da4434e228668c080ebf712998e08087523e5ddee58eab6c00854b0a0a1607c532a201bd11cefad079581826deb8ba824262e283c0d62bfe1e9841ea9ce7ad9dfebe78f1be7625986897d8784a27ea10bbf95fd2f671f2add727f89e000000000000000c5d2f48f717757e2dccd9e2a99e25d3e8f8874d2c443d6eb822f45d65356d41a2355986403d4de87f08201b7ea4683806edc941efb0fb0e7ea32d85ac8d418925cbfacac8e2814db9b2673a1226310d0e2c464cb29448f8244b21291b53c5b86033dcacd3dce6670a0c9d0df530c209a77882f32724188d4b6e597fecd02319d052585e63043a5d80e4fd245af439b5c83f4f0bd6bd09ac376995fc27e03adaeff9514de46c94334a8a47bf1e7901e2315be1ff876f5ff5b8dcb66ef55c5382488947f26256f64f5c8552dce517ff276aeee6603e2dbdc985e3a11d60b8f3f8d1bb4d14ffa3e03462cc690087944290836fe4bd12a74085ec0db2b08eaa2082986172916ac2d2df264cc605c0afe506152929d4c53f93991d6dc64235fc50eade72a460c6248e369ce785456c422f6f6ec7155e9ab1caa32c044cc86a115a09e8dd65f67ca5cabfc1df04e61310763347e37fe95e6d1696b03ffc0cb2c26190cc11725f5d06120310a7f7cca6152dc836d85e0ddb8f676ba21e0e40b091f128ff9e61f9cfb51f7f7fccecd41baa0d6f850dc5204bde22da153a7c8d1f1b417042a0925fdfe16b4e0b306a9d57dcda04ec45a19dfd58435bc88c47b32002da7ac433f42b25915320da6d27af493b684047b358d80c64c68a6785af223ebe7e50ec252f5e7c6ee50053ff5c615485656c53e09b94c633e3a6df8e5494b7b670014da6e755167c60517fdd881a022ee994d778482de427b83f933b0091f35d0952e83a6cbcb386fa9251893290335e593b9b8d796db2504aeeecf8e32cb20d43f289f055be3c84df6a16626048e6b72631102ca437e21424a06c8b5b79615c1809d68cc4047c1ff3b2244a8bfc767e20ad3776350cdc82a3b746b1c1c45cd0b628e4a63412aab6213bf86e8aa9946defc778494205a774b22ad2ec3a9baadb5af21cd60ffee2f8b0408e3afa19aef5361521f124974f0729494cd7621fd6e381a2f907d4f761569f4a7ac0f6ef76d66a77520f98e57606b293640203454ef96ac8c19284e731c5aa4732a5f611c262e9f7503ed20db8c30f48d074ead009c1b52a726fbc15f9b82fae55b958a735e6770d40e458eec73d4f1f8764ae8a9cac91a186514b609dd222f825b9e0524d819a18d99114791639b30446cbf22065b6af583eeda4ebda825cfad9cae508de9eeb710969ac6a5c5394e38f64fcdef0dcc6605b0ed9ddd0bc975ec88052a4e24e118b15b5914b5d1bb4b07390de970603717860f75264b49019ccbd23d86bec11ddabe92a61d80098aaf6c66815a686112f227f64f4e752241559312ddc0c780a739764d042be84b33cf66141a014b74c254881c1c608163d140dc16b0ee7570b0885e85e2b2287a78dc2f7811f363db3ebf0ade4a550fb58037aaf531e75934637b282469992966dd6e0f8f6b94ae5e5926ae7dfb53900d2545e9119e1d01e3f13f17f84bb8de1a5af52360bc410dc561509ae9d7ae30a4be95f9df3dbdcdcfb004f0fcd8db2c2fa8b2f04a23bf144b188c92b84d413f3efb5a82513b04e2dd3c7275af5bea78df35e08a36e1a1bd72c5c09d4d86775fb3756b0a98dfb45a6e125275ed0f9d1c92ab81d688f7c04de7ac92a811c90b9b036a2511d13ef59eb1e7ff09012afcf57aea93f6757b0d2886e3cc2c836b8bcb408646fdd0b2d255370b0f34ece7cb323911a2a8148c24ad113ac9148524293e0c756adb03ccbc5fa7f93b2d20cc3728ff68e05c1bd580a69cb57785100b6b2ae13c159e52e69ed7fe22b6a6521da0fa7dfc3dc64126ce5380f0c2a392c2e6090c4dc453cb23f73f9dcca94bd7e72fcc323ea6f8f93f022ac68e5e8e376ed56d460b8f3151ed270bca019df50a969250106c17d3c73018642bfa110f3bd8de601220f5909ed48c59a93a07861355d696f80b4d4c68e51a79d7a33ca219c1eee364c6dcad78a025b4cc3187f34f844e1038e7660fd79b1819dabf93a7815f9e8d5f36491a6b2f58322282077895346df56794d863c96090d76b2bcb93528c80a205c28373245223ede2655b7cc8de3895b12dbd64149b92fee049c618438982b4aeb606aa279a55477796cb584d27c2f666645d008db2aee46f0eae810eb59b13c0da7ab1537fbfff3827fea166696ca1276fa7639ee8999c2139528c3252fe21f4f5eb5eb4bba5c5f06f5677822cc20037ec29b74c08afef1ab96b2ecf5c9a2d7d94a780aa0e016c663a169d3a3bbe1fb1b5a12e541a242654defc0d1af9879ec3779221e203d2b88f650182aa455783e9b0d2e6e7b373af27064a9bb2dd4e55cceda4d6ec7d6b9cd9a123e71e711bca6d82de13643be7035387b290deb6473f5b8788b1bb4cd3f1535d9302331bd00266595a5950362feeae147faf3922832c178dcaedd3488e5ab3ec7d5e90780254c8815754b60c8860b687cf16cf867ef34cfc03366df95c55f8b583c54ca6402f8e2b1df3f554fafd04d8b88952bae770b02cde09c22de4656ee50e0541c58aaaecab8e3ec1e9355367a06004437165495a6f6aacdf470906e6763f51db504444b0f0c1c7d47a641ab86cc1019547e46fa4ae17fcb21b7a3d88a3baa7c3808c59a3263e9c6f32a2b8915ec581ff9956d8e45b3d921963926e63743a90c5218c8acb6345b46f3e8ffdda0f3f88f6ae63ff4887d0c62549d514546af270748eccd1568864b3e0636f1f8d1417ae31bcc05325841122591843af42feacfb9adc95a112668ac0cdad711d25f6e6154a69df77dcfcda831fdf9d40fe1df386afa99c5d4787436a725429d48c5fc7021aab02066fedd37b7e1cfdfe93384f9b8f0ec0332a9668520836991c38b9f516c29006fe627014e17e211d97b466a058b862d17a23509abe3be5da699d3985183d650b1748f991e15bb39dd61f52c5477f8fbbbd0864f660508d2feff966098a039a61f1b5072e8c8ff3f857e43228894520db5cee1727cc58cef21d3bb1f89c62a5dc00165405d4ae7181eef22aaaaf121d978cf392370b3ee4de57971df38556b3e42d6c166c637c53cacab7d2df5c52fb10ec370a939d80ac00f0bbbe0630af163972377b577385c9a4c55ba2d3100858622b34f0b912dd9ca7602dcc3123dfd152ee40efc2862832bc2e4a8c927cf14c5b59ea5e7015d66371e176f3dfa1a19583b9d93da8920ee100f56924d699a52c13104e32c3b3a21e6af25867dc87e43270d85ab9b30439eba69b78d53944d01779a419838d8aabe6a305e9e5e79e88b517ffc3c9a077d94618f2e758e3d67dc0ae8c8c0ea1e6f0c406518a44e2a9cbb62b1367fae113c132a67c7043a3bf0208a2d7e52236342c3d0af675cd3e91cfc3fd50a70df499ea55b807592b9bff515e5f2ab7f3af2d43f295bd74b712a95802065ce4c1acc28b16a43b771ddaec9df959980e1329592e634abf5a322e00231f724cf486a90022e8cc229d5a396077f7a067ae3e35d04cf9069373ebaa8ae10ba07726ffaf104b6bffd6796d2291538b37e7fb4303bbd143534dac0928075ff3723433afa9a98cdc3f34b4615ea3cb40bae2211f38d24a3f5b616b58d1a8eb8573c55434b4598ad097b3c6f369794386c05d9e2bb3216b209d40aa2d97037b694b08db56ed6b88d49a70e6e78d46e7b15e2c83ac79ba81cdf6861707e61923d25ee8ec6b99e61540b942ed06565f473becad644a63bde7cb36f0355c300199e81d4579a5d9b60f2bb3d34c2a5b5bbdd70b9fdf0875e4b54f2385c3d5bd893f7309f10662e0aceca636283ebe460c7465b7f820722e93b97cf16193801317a862e8e6d32d8a33f1338aac2cb3041e0ee96a14e831e43145b61508c34f25833b5d93ed877ac141b86c40ac459529959172a0fc610e0027f0bd93cea0670894903c4f82c74b63830767ef22f9557a2953dd7c5e2e2e791c6ec891dee9d4220bdff847a0b8c2c0c33338fa9771a6e032e192d63245511bf5f43965a4089b7f9404fddb37eff38e863143e65665b59c3d7c8079a22cb94e937549338b1ba0e607b317dcad876fbbb41c34bba5e6573945b86a9777658dda2fa940c6c2671fcb8d62bf5fb0ee4006bfd07be8c3a2b518d80ea19cd2c844ae31140961da905f0d2a9b7244c62e09ce83aa016c77319fd731f1d6b74f0408928d4c150ef8a7c146923804adab723a27a64e45c0317134f1390a0be32db2cc3ed6b086b88b6d04ed2f088ef85271fc1d5ae69f41569a89bad2945d01e1a47de69083092f2d9fed9923635d52b4c3129aff8908e1cbde0f68b9e6f31323f054ce1fbdf1f8899c7f9b02f3b89f9467a393547fb6bbf2d513d467a25bdad580c1ec20851ad9bf3d75f9831a0eb2a8e22e25cbb2b2c4313188530dffcc32a29afa0540c692e8b38fc932ae880172ae8c1ea8622158bc4bc3332f0dd5fa0be2118a745677ab85a954e85e132c1330635c5e7d628e3ca8b648cea89d4a35e779b931e1922867fec8ab13bd20ac8af2eed1405a4d43ebc8b75b6538f07f1342724200156bfc525e977036789b32c67a3d470372121d93d4d576525cdba3d1ca874ca781d611142ab258b9f022b36aefdbd32fb032e3f470e14b980cbf3e0cb40d6ccbb237bbed464ca222ea1251e6bf7216b0bdb98f6624441591cd3d58309ffd5a086c95c0f2f980d1f8b69af4c2cac421a9ccd5ec057e6e7f2bdb6497fff5e5fba7483a79ca19815b0c0a10bdbec6342d4bfd4cfc83ee9d37fe98327b1f80df3266933b78be424a641cb5a54e7854eec4a593c240e84d4f46e73fcb83aa1bccc4342208bf16258758f722160d63e5e69c5bbb3ae0f00f33f7743c927053b97106200cdf979fbf85b9027901ebc51051d53307d8aacf7ce9b32b9b38360c4648d9da67079af7536ac76adba686988bd6a5481584ccacc1dcbeede9f605ca29f705b114dde7141752fe40782189264348988ca8fb245aa34a30527fc30ebf79f6a4acbcc9fdfd2d27e9e53ead28683f5ae89605f58e0804997c1f0dc8242811c3b935660624066297cc2a2a913387e8bd5c9813b2f020ed3768d7c362abfb10666ad540235e9778431590d386d15f3b9d6cf30af1465fc6d203706ca25b0fd7f7b9c6b476556541c5b7ece79ea2a69387c7dfdc5dae71d3103a53dfb05c346c0cd343b0d2f3ec0fd955bcbeaae05a11aa5c7ecd59c239509354ccca0965b5d9e39c417fe5813b9915ed0b9a8e060b6986984ee245202fff0dea099966360b9643f136a92111fd51353564348fbdcc668517ba6493084ba038812daf354fcc17318a96eec0a15552090565052358658528cbe07a1d93329a1c7bc74cce0be8402cc538b1107c10eac0b5eb249966a1feaae4c13ed730f6876f464b020f3fe70e9f406569a5a9dfbe4c0c4f27a59848168c6d9cf40bc83f7613ad1aa20fcd617e099c71e3fbc2fac67630de332cc30c7bb12290668e5f3a2d938bbcbe0e5339678339e7a377de78fd3d5575da2a079ce3d641b7c1249e65b5a87c204584fe6505303938d889d89a4c5a146e4522fb260b53896182cac59204b4ff8d66bdf90c254f151c875c54af781724861000a22bec47e381b5d1f272e5085886ccdec71ecedc1a661caf7ced234aec95dd839e4f3f752848baae0862cf2906211c1a4a889d80952b7a872d784e994e1049a28d55256b74185f82c13dc4ab3505494a113dec2874a08acd2daa807832f68c97731825025ceade0983edb9c47bfac758ae51b3d7c361e0eb5a5aacc70f4c1016869e09d5e4151687ee85461ed3ff6f1976d3b228277c89cecb0ead8f0c044f20d6a6a2804a8450f7ac5eb70c65123bf7b7892d191d3af4951f3dd32bfe7bbfa8a0fd784ab6027ae2a5f38056d1f165dec76ccc9c080f76dad75767c7d8ab6ba468d79fed1b10fe22e1ce71fbc5488ffa404eb81f92ba9ea1c417403b99c86ea2034c97f770e215c75e27b67e8ae1041ceb48915aa6a432ec8b66218a97b855131e82f20d12cd4cab14df36f9e69168806050c62c80ad29d46d748b63942871143165b35657b269155a605e5fd390fd6a8006b432239ef14c6fe1491ae74cf082a9331efb39e947a0cce5d028c4263e84fb47312e93f8c0c3b04a91e4049d14a13ff81a48394c9b2b0bc2b9b9dcb7d92a64eabc3e0183f0ae65ac8d4104f79420e2f559f5a6ce6d70484147ff40f410c0f8ab6371877035a7a338e254d72479156275675a1d5624c01b7886f28571b6713e691345cf839cd73f6c7ad76b98ae0f70d8ae03d66fbec39a3c9beff586b7bc11f8d03e6fb23035078357d55db47a8cd6ade7003c4f3f91f3449f679a366977232af26bff5553732537e4a8518cceaa10034d26f35455022efa5690b58a632364f0a1e40da642d669647dc2037e212248f47b3dd0878e76867612421098a623c29e99e38f4ec01a2cac7653e88fff15aaee6e7c1ff74400ed06cff2d74806012533baaf196c2229398b0a7a208b8b0a14c6a0d6183bf9ff36e3beab84e390a80a0ea6237c2ce971b2e8a0e5847a9f144c9e3f2e4e7faed654f9f33dac7dd1c25ff5eab4da917fd8b2bfe3518525c51d490ab64eeebc5112d3fb00144df1518a2110fe797bb3c1061c8ce8f578696386ab2ab7e2e65ea18133f58213c401ed66836a22744c97424dbb3f9e6a711b0315da386aee32a80f5e427a749cce7abeb30a8184cc1360dfac11064e3ff96d2019d8e4e9ce9a366e26cfab13fd4cb66916c76703ffd1e59d48b20044bb36d5ad21a68e18952ffea02c5e7a4283bcf0cabbf11204a2fe1b56bad2d70441b34174972213a99fa180fff36da0139833871c0abf2751f0bc2a2e911c7823fc925f7d052bc28613cf61f2f9dea0aa72cdc60ab8d5b7fa4cd395089a55f31c8f5a3a7c8cdfdd95866bb39d73aee16faac3ab9e9e62011ea5b16ea64fcbbde695979a4d28464c81bcec2755eedcb7b48a889fce9e3d09ee96822d8de94e3c831ca019f2ad63fbf3ac39c81963d9177b58d5fb1081427467419083cfaec460c3a374d9ef2b41c0fe04264c46c3631f72819da978e1dbbc374c609fcbd8a6b3c1383dce7fa7554bfe7fe1852f99ea89fc1e1816bc727543465412457dc93fdf78003c83941444d9b78e8c1b1ab33e13a95157def3792c188de872261ff5168c71d8150bbaa1e94c89d97e9d5419829f29c8df1be995f33198d75d1512200e09a1f0e924d7a80203f9dd569d2c23160ad491dd3aa996a26990c7c58a3b0be34840b5a0b94aa54382c20615927d3e699a4cb5008e14b356b84fc57ee9fbf635d6a288f4e27a2723bef03ec7c340bc8c2097b50313e7bcf6b0c8c6568477718980a5e3eca35a00c6befdb629af52b01068ecef900b513fbfdcf679159477826d422464a3360c9182aa85ff4e35122dce209f19100ba67d61ac12b4437e66fc9b0205c3c512388609295c6c3cc5453d5be5ed9a5426a07f0cbc329baf969a4506d13ddaba52bc0d2acfa7ee86d65a5227c49d17f075c55ff06731ce93ee39bc1e874e0fb4410fa011c44b74df65b8d91f1d2431b571e839e65f184cf829b7f5f6acf6bea934e1a3ac70be36591f3440b8d814a46236946df7f5487e8e26b2d3ec9fb78e504add964054fa8f1fb707e24c078a923518d0292100d4347abd991cb3fbb7435c0e7b22a7843c894bb1ae4b58a26eddb4393c7d333fb8d40a6d8ef43cdc6932d720638c04f54da8329fe769eded7e7aef18a27484d132392a22901b28a55544c89eb81e639e53426b01209f40cfe3402e354b2ac8e2f71e133ea0c71b286198b100ea858ef497a8ea8581105e8dc48804ee83cb14981fe29b02884e5732fa22458cd12207132a074416bf11f2f095324e7563e2803a1ddf6969a0c45c8366482967d1068c2ce7794a7da95afefb788ec5a9017d7184781ae0ce288b7b7eb37e3d293e1670d7a228b0d83a69efaee4332484fc1ed65931eaf944e7a5abe74c0c5c2ed017fc42dab7a7364bdb10ae3315f5c18a90ee79622ab8c241f43c874f336014b3213b1be6c739c4ae4e9c91d2d632e3f65755f4cd3955b5f760a6dbb4a30ca2da0211675b7cb61060333c1489bda2f252e5f84c39b04157224a19a6f94f7aa06106d420029333bf0f76a9aab073aa55f4d4fc90e496ef303356c23a042c73b79a8c708de27431621b067b59c235014e2180b493a7f20f3bfc060d27d520db14bb93f0851f83ea0cf64eb00b76d30a83ea1967a86dd3cfaa51a4496618922458d20e493519eccee1d2fe9f3ccc49fb95c2225f1d01a265538b8281e1782912ff6c158742bf0867078d921131ce4a39043c460df24b77cdba46febba9524727456c2b92b58876f36c69d756586337001f7770d920430e3ecd03dcb65d025dd94dd2278be8c7df5828b18622319cd7aaf1a12d001939bdd6053668b4f3d59cd8398797f3ff8aafc56e0aa5ee16496d42e48c46ed70293b7c06231b3602345808502697e27c66b56bb87c1f2ff27973392af8794c7c6f77cc234fca6b06bb99bab3770338cf2bcf88f80e5e0dd5e4b8caf7a5f4e4c8374232c2858bf573be48389c149cb5aca792ec6f67755573ff67ccd9a190b6c28b685c81a6edf49a78b79307e6190b8377810330aae0fbc9de6fac1cc1c8dfd9fe1ead61060f17c8e5245094d507c475b26284cfea43d5e55c4da03632b4fa03d5f5974c7874cfc0f1f6942e181cbfc369294feaab655b2d3d9f485281afd0b5c68afab8980de6c4240bc6895a829f05ae080c9d451ffc47bb69e448a3e49f66e20d2f67eb43f486354b601b31989e6fc0e9043d3fc162bc26b4c6003038431edf926c1261bbf6165e0d84401412bcbdd894d13c5ca13b0f3fb7b92dfe7c0975e953855affc91679edac48ef5ca3e41ea2bd57430977813cc489e871a30bf55962910d462f0acc45de9c9b4533a95ea1d064a930c15b0730129e443bf57297d23480581a9e4e65ef5cb48b90a6974c913481f97ab7074c3edc46b7d8d75629cbfb63973995e75e6818c69a000e8e85a04848b95ba9c2c73b673bf0703f88d106c261087e1a7aff758e786db59c090091d93ab287d3574ea6741dd9ccedce4e292e3ccd808560b7697967c36606a82ffa0a4fd930cda3fc05209445dfc6a1b17179e1fb75b10851a055c029d34a94352011f4431b9d09461b8a8276b1a416f72ceaeaa0b19336c55366d58ba10d8e50a71ae2007d14f3392f473025279de2044a47101d33971079bc304692f982009d45feda652a21d8e88c2a6b03939b4c83d583165c5c1fa91e06a558076ffc83625f87dbc3547c61d9dd9862a3a223d4bc0ebbfe455c0203eca28121b2a88e9ef18e35b4681b33736153a19c1dcc8e85d258332c8c9a60e1ed68afaff153d8a08e3918af262a70c27e36117a37f7eee47181b3d79bfecfd1fee6ef808e51e5aaf80e5fe7171d0f76b035cc61d03cdb6f6107353fb039f78400ddad8547b841af1aeb89603a3aee936f4b1bf1a66636fc7279c8c771141dd64a4ddc80fcb5f6a707a784a60ef9ce2fa797e14d81dbfb8ca669aa37b6f4a068437ddaac649ecfab43ccff99ff2fb0fe8215303dc5a5ff581570bbac3f7b9416789bafbaece1c7276e83526c946604ab19b85a0fe5b0c4ea16dc40093b8eee417de8dac7c742be2522490fb9190efa8a0c34a1c49b0b44ef0adc63c09f25911769346641c5f54d25dc87b43c5006bcfe9ec85158e3e270f42e4ac3e460b61e45f54ce0d4936c141b0ff150d214f7ae4ec1dd6b4733e515b3acafb7d4b98096771ed4a4bfe3697e9228fd8f03563d92965c9fbfbb6a7dc5eb950a83badb69671a4ae8762ed24734198cc660758cdd341727e48c6113f7d4dc9061fe4b8e73d3450ae1fbffbdb1e11dd11fa8e860c0893d3d2c13e7f9e01c8bdb37f274c4a313f017207743bd40198fcba77c98bd9a2d6a7503b0351e4ce50936312ad57d75fe1971a97e6136a5d982ee34756ebc092dc938580966a3cd256ca085dc4b97b73054bd2e72a6680b0715709349eff762b801ed101b6334070abc4c8c494f70435db9d09254df0580268780c507f3ef6bb8ca20108c9d1d5a5a56d2e9c1dc638354f1256d0e2dd7bd1d267a6d9e0b8eea45c0d5a36b8b775dd889f7259cc4b10d5aa65cba9bedf8c4c3ac";
    const vk_hex_u8_array = fromHEX(vk_hex);

    const public_inputs_bytes = "e4ce8929aa0a0263a6de785f0bc59def934b44b4b6c674db472e1b8fb9a28c0d3c2bb5a7370619962ab2b4438bb9747cd240b020a59e612f3b1c45d2739c1b2bc25de87845f56c0d40c0dc99ad058cc25462d4f9a9523e0d155b4dd937749224000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000517095bbf6f39328b6e0340501d8b82ac177629de0b2ac4e9b733ed66a7ab70b02d91df8d5dc9feb5f8b554fcacf33116b845be327d2f2821cfa0379417e2d163e7e4770abb4fc00805b6993ad47c9337ccf4d23c887e8378000c3d136141c06c843befd2a23e437c44b5af7aee2da5dc63c88aa38c89833d7683d9557e3161be4fbe160183e44fbb9c8795cd38ce6ddd2def558a259e4f3d22f811523ff6119b431f837712a3e1157727812e59d157c30ba44fe08332265b84513238dba2d1711236e1ecf497696baaf442cb5c4ec635fec8aec36c16ee238ed56e07ffc6b2c4541fdbf099bb47c8ff2a409723697829f02cd9ec29f8f676a779235ae47c3108f929d8505a376abbdca476d59dda0a43e4b6f00b144a5b605d96cfd8571670a96dcc3d5b8324db9dfaac166c2ecdaafb0a642a21e6dbe4545e582a135bb560065c7375870cc7bd84298424e5884898513e226c1ad9260d049530cdde249c42f4c5726599292c846b3370049e1e215ebabdcfff77983b07843148b3d69a5631e690ae10c6a6346639d179266d55fe464728fca8013b087687d96fcc0360ed90561cdd6b905100587915e3bbe3a5882dbc0171669f3e8426ce9f8c70daf95dd0d48f0175c507fb170ecacd2813ba8cf33a52b023815d5d0fde935d7fddc8d2c0d48962612d046ff1abe4195ef376be99c57c06b46035d96e2a585d37bbbd2662dc14544f43e4868b545b633757a5f47db44dc4694ba0bebaba9d29fe3f7dbfc1d5b9e59d36d349f7ef4f2745fa5278a75df6746d90bb8fbc5bad6dc373da373099d871901ba885da6c6671dc03c606b8e1bae5842e8c3598dae17ca8d4498ea07fa0aacbf615f95b188d21b28e4e50b0496fb954b301badd5eef5fdbb92a4f42871d1c47013d248509ee9c524c5595e96f46b445a61d9b0ef82b491b8cb5cc304ae839a927a9f15bd51177096c90c20f1cfa0c8287fba3cddec585df0c5f403040ec91ef11b1a31eef3860cf709f9e20e58d535f02d7143cede0c71aac9b20b08cf461ef20a3ab5962e97af7b09e776f764334b00d032200f9f8c937b9a90222829dd03eccd10b182db54090f28cc6751754da4783ad1608a22376a66b80c720bd8a226ac70c3eeab209bce0826119209e17bb71e6c184eeeea5c9d0b2ca10c1add7d176b7c917beb0a93247208a59f33d9d2dd690d84748fe6a7fd7870056b2112a2e03baff0a228e6ed6eb646b71274440f261ab224d6031a775429d1269a23a311cac07c9b22438b277373c0e8d82510aa40d12dd7c1c712db2c09efda9022e2be1296efeb1e75a962c748fce9d3f3aef449925975f5399b3a48205a30e51d2e7fb52d58b55d54956c898916ce3ff3b2b464b92b6cb459212da8d9c9b190138f0eb8740d6ce8b9c5b04714ff6be6fcb4336645a86373632fb6b01c2ca0fe263f2d21b8dc9b9bb8533d9be7b93be173050a532f72196598b5e6bfc95c7b7f276481e456ff062789f567c841a98e675f8ab743823b016b94ce88e8efc5e04715435a0ec1c6d04fdd27c0dd078f58c8cf376595627f0a97f41347ea97c430d52aed6eb5de8af609ac6153caf7ab275096b0384fb8c0fb0521dbbc05cf97ab561084fd247d982b1a3f2689784331f388c5cf515c3cbf2eef4090c9a4ec5cea6b222bf604d92658750ee291fac77274b8855ee6a950decd268a3376c580ecc9520c4fec382ec75ef76e9fe4ebd752b2f3ee113b85cbb7fdf238528c59c8ffb7eb2a2313cf5231857e763af6f92d2165402d539625fcdbfa3c99107c825f124b2d091a76edbc7a83bacb4cbb05bd7acc5a582f546522b8917d8720cecf4c5142c11ca9da57950d20b0f0035b9611a4ff5071b18009b58cd3c1e92378a192a34d18062ed70134b1bad371743f9d7ad271cc4911fbf44a1b88630af25ebfa23bf8e12def4694b2500882a84f875f1da812daf0e9c7e91ae0d653c5eecbf3bee9014b2910db58684cb5cc6a65c2be0006fe735b47565dff4cc21511ac98399f9c4e5b1f42469481bbc2aa027030941421f8cdb82888a18e9750f7f38c1e16456f76ed15dcd2abc991b1f1458276b4f266d3f43fdb96259d4c5c17ab54e8d74aeedc981d126ed64602020036f3ed0e9e128903ffb146f7802b6ac5cf65949ce3c243ea0e79a149b4c76ca1c29a422f3ec22900fb058f75d75b1883cb6992d7c3b8767026e6172e7f6d76066c7399c27d20de06cf7eb478f98522a08c423f2b544c6930191c943e3cca7f7e644c8ba5c61fd8516460c037b05e2c752bbac78ca28248f12331cb9bbf789f7801f2fcacab8bab1c593a88df3b100892e8e8a435c12be41e08122e21867ea298b45a2fc7196f1a75f247b2caa83189afdb322815b9dc46db0de9eed5a1447bb30586cdff836501ee8bf65d5b8ba92722a6a3145d50f8e53e16b3c85ac70f104bc0ec26edbc72cdd30850105ac94234448b83f975ff64605a26f0ca01aa03a2eae3aec83c35d19a989c523f1819cd0b1fa967bbde65ae530123787baf1704098c03cb7cab12b556193fe628a3135d5001bf9ff83b5d1a09f41bd065b5286052327a08fd7ddea1b83fba4f16ccb38d12d847cac2c7d2dc32ca142de5bcd1726b6e8f1d3d08e9d24aeb8872e6d04fc15ff7bfa9c7155a7315a826ab757baa792fa6fd3deee1b41ca11698243c1a28fbdba086a3ae0c5b264e212272931b1a087b210baf5aad65de402cec6feb7aa70804b9866c0c5bcc9892442d1605aa4990a7fb9ee2c5b3ccd4c780f75d812f6d15ef82a5af2aba47e20da413dacc6e16737fec1a1383d967dcb9677cf077a49e4ccdedd30cefb1897e78351bfb31ff64556b03d058c5f93b49080e56099cb73d4bcc7c3f0998cd0193e738123dc61b1d3e3a6729754f3febad7781e888d740b46ad02e6de4cf966408733000acbb9fda303c9440ad32e19f37251eebe59db29996eff10a64252593e6944d2f3d87e1157e5c570282dd36c74a20c8fc79e5594d8f158f07b480bc3019b5db1ca06a1c6b38b4ffb7f7f0d253c97ebf3ae6e1744fe3ad91cd0ad51ec43245d62ed5806d07442f263e640a9367e9e1175887e44d320f0b753a7525cce313893e2beb172bc0828941a240e6ce1a779622e8901ce90d247cd80272ef2a5bd6878e145aaa12f4cdd17d0f4a9b7e80480d8dc19d037ad9e8cd79baa35bdde31e1e010a56e205411b92086e1643f61e1eb716e5d4530b39a1c4e6d9d6b88f150acf4b132e2c0f8fc2ad5654a66cade3ec33250f3e4dcaaffd229bb1df4968738f85ae06430d72eb83638da7a8cb044b728553357ed5bb04f257eed6125cd908ed664d14d7f73277dd4e044e60fef850a6ef90feb1645af260a1ccb6a749c74b7b50eb089d1a56c8122e6ace61b0e285a759d91993bc59d5be86bb4b99dbc3838b03501ad2b2d44be7f29ac5b1ff923bfd90eb21391e0547b8adc9c82be20aecc187382bf6c3ab2ce035be435ab3ad8d0dd98e1d3aabebc1aaed842327cecb39d0cdff092c4be91c5a66cb8fa6a25ff8f671c3cd6fe9a6155f4634f8f04217662a53dc2503a426fb9f1660f77954fe34f611c5918c279e044a592965ae2f0f505512331bdd18ae034c4b850b3ebdc6daa182ce8bff9123d94a61287939690b7007edcc126fad4772f3693443a076a7618d8fcbb2c3bc63e60a3ab1f85dedc67ea7efe01cb53789ed234e917368510e9900e772977c057527c47b32407b94f90c62298615092d689857e1355146339ed211be4c87344f2a4339ea625c2e8169c857ef741da4f18f855abe642067960b7ea55f7fce54d4abd6548d74048a65510e3f8cc5136cf527ee7d62d7eede7dd7e25b4957b58bfe23a4149ca4d8304aea5f4d80732af180a732ea6ef65436836b9d31c2c223bc1f9a930b368af638141659a0ccdc0e6a0a234e6282c73aa6241fb355bb5065623ec5b0d8efcfb9a4b2d2c84e911f11f63d89f3ea5d5fa5a7ac7021c79a193d1c591ae1fb09f3b05d0ebafdd2bc550da06f5acfc5e73a0040bc058bfa34cb47f32c70ef49d5c8d6210a98eb343585298bbb5f3056388be62a0546ee69a3b879ab795abd4b9a59a36cc74841577206099bce6bd25572e1f1505b5798667106a01e21f827b2637b2ef4d0a45d6f1d69097f849602b5aa8effa7afca9f3409228a0182d8156f00d190c0239740f42d6c089b5f460165b3d05cadb4c55be42d011928b16870a9eaefded6e9ff80d9ddda0f1829bb9bd02a9ba69194011389efcb3e927cc8fc38383ee631f9df5cbc92d315ba0628360529ff27c4df6b2ee324981456cf70f07e5f7bc9af14b7fe32eda306512afe5c2609b00d0a3aff2b2adfb7541f36fdf0d65715fee4772b9d191d1d1852ebbaeebdb7e40415d3fce0c3c8e54ca74e929ad4e5a37f220b3acc9a087e23ec61ed1d95944ef842d4f33a156952e7922e8a0407bad5b7352405901099cb07876b99f02879fb448c287c3c7fecc0814af101546d9f54f37e1da3fa70d07416ce013a38977c4c02e572496f2854ae3dbef69fa87d38ccaddf6f407ac9ea8417750b17af321fa7af417bae4992f89fdb6e9ef2e8f48c7b4a428346db6c9fdc160f2a62e51aaf79dfa3570f5506aa0f90f584048f3ce06ac19c9a600b8f78b20fd618542c2640ec73de55176e72cd0ba88711c4b816ada17e602f8b9879990a10902bbc89c78e95b8332c363f95a0c0a0a80b4477df26bb177c276820272fd61083bf89297b4ce1f4fb660355ec7ae420514068630848c452b3b3a28ba07ea60c916179776c9a554c694d68f0a2212f8c59f574d1bfacedea3fc43f561ee91612b51a02619955aad03c016b2d211ad99b1465f54bad46b653143bfd9d382f66207f3e12b38d4e7812fccd2d2699396746688992f709f0e289774a3c102c6d63013414f023ed35ca8aabed744eb7ccdd56a907664681103932825c87b6018af71bb89f4446b21bca8a8e4c84f62c182ea30c774c1698859f8b4aebc2add3e1b7248b2b835e362eff198c8d36eab76d6661b0d0ec87bd1f02bebb878e54f7d557139d4e63b487db10df2d161f4073e6b1a2bd4ffeb9d7fa1328cadc748f9267ee2a2b8ec663af2e11ee8428481a7d84886b742ea7d3cb8a6de28b678149d67044266195a57487c9ae3f43c6e71b87676916a1e94ce82960c6c0b536c5e53a23741a3c1f8b0eae486036c56925f4cab958e3636652ea818992d52c9ccddea7c7100a279fc421c03a31e0de9663d1f7b6307dd504fbb6df602e39c5ca1868ebaae219def470abee3d6032ddef30045835b5bd7af8709de73e2cfd33e5dd0c26d88c0d419dba7b07050bed58f6661565aa439e2392e08424596d944fc982b35c95aa1a8e3bfb62d602664950ac4a3bdd7f9e7410b20d3abc0756c4e77a7e4cc08b5710d14dc7c1eccec78bc92febc5468c75a11feeaec54e9b985730ae28f4bdcc2e0ed844f72da0952746da65a748a5e1b7e24a54dcd9647f1eac92cf34e4144cfb18ed6e2ce689a9f34b2e38fc9af56d2add6691c71a0e87628e8ba4b71d5e12cf28fa0d82b6dabf172ddfab193ddc03d990dc6352d778c1010091e631d8d4f3482b7f13dcf1b1cdc8108cce1ac8021433a43c67c6ed24d7a682d03f396fa1bc4205ce6b772d8b0751fb55a87a2e4b9738f85bd4304940457cb050b0cad91e05860750e9756549c53fffc0b376f16089f0c5e0f1704ba217da2a04d669f6e9662a2591bd3ef6b7818c76513861d4b94facdbe5068eec00ee2fd1406a5093909f2421dc12333c7ef700cc4b30f69b5b672499728cdca335ca8fa9dbfd5fe10b33c21e462695a99a5d677c9df96dad36519b481930fb71108d54d76b685abc3f00f6139ae8602a05ef15272f3ffac5e246e3d75adc6198e88cd32c5be8779656e5ac28a5f0f9f538e341275b0d7760ec659ed5aa56d5384d3d4ee011322a0137e8ad1c291902429319c93d23737cd01ac4671c7e9b9b4a2d44ccb65f5acf53b1ec69285a38d413ea1e783eed71ae98a8ad3a868dd4a4470bc9f1d607ad6eb9b32d67018fb611622d232632013fcaa6da905e5848ba865e839d56f04e13ea4f2cc282001cc6de26e3e7b3dae374b38a68c965eca5041f4d629ca52e7991654f25ee362cf48a1dcf1506b13a06c1c92aaa17b1420224cd3258435a4aa93385b2579d2014619f3a2939b37cebc0a726b6e3d817d15b24d46753f81554e22289e8f4732e30bbee41268aa45c2b7c229021d99e7a797447935cfe6ad5156253895cccd1bb0bcadfb0cd9c41adc2ea82e23de0135885c6cd1b78e789c981f57a56aa9863de02105cf444fba70a77f190125b0a9899b0f96f429573990c54e062820676ad4f0676a02846f1bee38a1fc2e74280485aedbdfdde14bd397fffa6b88780e60b0510cba95580ed659511da5ad18c5ea6840ad63985ac90572a44cc28129252967d09895f0f6c5bb470ccdcbbc04b0d2115c63689ca4a31bfea9dead86e99edc18120344c4d21926e6536e0639ec6500e4d791d4412f9d16b041022b2cae4725d1e209d96d2536f3bb5aced81901bf8e60340fccac7b5b2bc12dddbe03d4d5b684f247511e48425a54cf17eadb75384463d231309cd4d66b1ae467417b14caab2590a2099a6b5ff4bfa904f7d9882fe2651b248aad54508d47c288f00b51ee4e44917577dbc96000d75c68ba6db6c1a80dff8454ee62e2129ab9c0ff81b968da34c0812ad85126591442149c279d88da1f38b7f85fc3a5b100635f61ef429014274017f44d7385f695cd08efe3813c058d3f74400f878f938340ddd0fc85b70d28025cbda398fa8df4d187363f86413a8685fac08d6607c73f0ccac91bca12e2f380bd85298e94752709123d36d4b17b69c69e0c749a43a3b9508a71323ce4705710cbced4575a643df039d0cfc5324a0fe7084468b8fbb1b0875e32c6dea89cf412fb19a6d4e4637dbdc03e5b7b1a967bac052de847ab1adeff416c943cd75bcf20cb46c23afea08529117baf4d468a4506f0d89b864396902762365e0c32bd2472b0191f42b950dabd0588c66cdf66cdd1b94845a14542b04f0683871a0eb4d9b264efa189181e08a470e44d2541f6e47fad8de51c55cc1c41a13d238fa923eed2fbaf13033ce93d05cf2338e5b46cd65f37100853cbaa0ed8423e52a7ed0e22f08ba29a9a5cc1452574cda45da95f35c15d9899d6fa1e9cee7a76e6eb5f0770d29a41a44e55350edfc43923fcc6bc29f8a6b0ffa7274df44e61f7b38b25cb0382ca085aa92246b9bdae02d27fde04c9d6800feaa7e3552c0ca9cb9fb533b96e200ffffffffffff3f000000000000000000000000000000000000000000000000008a42f20a8ced2a00000000000000000000000000000000000000000000000000bfbd06e176c32600000000000000000000000000000000000000000000000000ef218b4603942700000000000000000000000000000000000000000000000000";
    const proof_points_bytes =
        "91ac0bd6498fb7b0c9a20dde33f549f9ddeb233feab3614bb16cba6df896cd2632d4e23f41b8f72c6da8dc95a811053482b6e0760ff6ee8ed3e69cf3e648c51fcaccb73879fb1a83104b91743daa3e69a93ba4ced9fbab49c81b353cc1ede903ff21ed5af3fad3ae13036a927e7a8c7c904c97a9650a7ffebf2825d3118b5926";

    console.log("vk_u8_array is:{}", vk_hex_u8_array);``
    const public_inputs_u8_array = fromHEX(public_inputs_bytes);
    console.log("public_inputs_u8_array length is :",public_inputs_u8_array.length);
    const proof_points_u8_array = fromHEX(proof_points_bytes);

    // 组织交易数据
    const tx = new TransactionBlock();
    tx.moveCall({
        target: `${pkgId}::${groth_test}::verify_proof`,
        arguments: [
          tx.pure(bcs.vector(bcs.u8()).serialize(vk_hex_u8_array,{
                /** The initial size (in bytes) of the buffer tht will be allocated */
                size: 1024,
                /** The maximum size (in bytes) that the buffer is allowed to grow to */
                maxSize: 204800,
                /** The amount of bytes that will be allocated whenever additional memory is required */
                // allocateSize?: number;
          })),
          tx.pure(bcs.vector(bcs.u8()).serialize(public_inputs_u8_array,{
            size:1024,
            maxSize:204800,
          })),
          tx.pure(bcs.vector(bcs.u8()).serialize(proof_points_u8_array,{
            size:1024,
            maxSize:204800,
          })),
          ],
    });

    tx.setGasBudget(300000000);

    // 发起交易
    const result = await suiClient.signAndExecuteTransactionBlock({
        signer,
        transactionBlock: tx,
    });
    return result;
}
zk_prove().then(console.log).catch(console.error);
